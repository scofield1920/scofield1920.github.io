# NSSCTF-web-wp


å‡ é“webåŸºç¡€é¢˜ç›®wp

<!--more-->

### [SWPUCTF 2021 æ–°ç”Ÿèµ›]easyupload2.0

![image-20230227203926944](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230227203926944.png)

å‡ ä¸ªå¸¸ç”¨çš„å§¿åŠ¿è¯•è¿‡äº†ï¼ŒPHPï¼ŒPhpè¡Œä¸é€šï¼Œæœ€åæ”¹æˆphtmlï¼ŒæˆåŠŸä¸Šä¼ 

![image-20230227204121456](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230227204121456.png)

æœ€åèšå‰‘ï¼ŒæˆåŠŸè¿æ¥

ã€å¤ç›˜ã€‘æŸ¥çœ‹upload.php

```
<?php
session_start();
echo "
<meta charset=\"utf-8\">";
if(!isset($_SESSION['user'])){
    $_SESSION['user'] = md5((string)time() . (string)rand(100, 1000));
}
if(isset($_FILES['uploaded'])) 
{
    $target_path  =  "./upload";
    $t_path = $target_path . "/" . basename($_FILES['uploaded']['name']);
    $uploaded_name = $_FILES['uploaded']['name'];
    $uploaded_ext  = substr($uploaded_name, strrpos($uploaded_name,'.') + 1);
    $uploaded_size = $_FILES['uploaded']['size'];
    $uploaded_tmp  = $_FILES['uploaded']['tmp_name'];
 
    if(preg_match("/php|hta|ini/i", $uploaded_ext))
    {
        die("phpæ˜¯ä¸è¡Œæ»´");
    }
    else
    {
        $content = file_get_contents($uploaded_tmp);
        move_uploaded_file($uploaded_tmp, $t_path);
        echo "{$t_path} succesfully uploaded!";
        }
}
else
{
    die("ä¸ä¼ ğŸè¿˜æƒ³è¦f1ag?");
}
?>
```

â€‹	å‘ç°ç”¨æ­£åˆ™è¡¨è¾¾è¿‡æ»¤äº†php.hta/ini
â€‹	åŒæ—¶ï¼Œphp3ï¼Œphp5ï¼Œphtï¼Œphtmlï¼Œphpséƒ½æ˜¯phpå¯è¿è¡Œçš„æ–‡ä»¶æ‰©å±•å

### [SWPUCTF 2021 æ–°ç”Ÿèµ›]easyupload3.0

![image-20230227205104603](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230227205104603.png)

çœ‹èµ›é¢˜æ ‡ç­¾ï¼Œæç¤ºäº†.htaccessï¼Œæœæ–­png+.htaccessç»„åˆ

![image-20230227205029686](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230227205029686.png)

### [NISACTF 2022]babyupload

F12å‘ç°æœ‰ç›®å½•ï¼Œè¿›è¡Œè®¿é—®åä¸‹è½½å¾—åˆ°uploadæºç ï¼Œè¿›è¡Œä»£ç å®¡è®¡

```
@app.route('/upload', methods=['POST'])
def upload():
    if 'file' not in request.files:
        return redirect('/')
    file = request.files['file']
    if "." in file.filename:
        return "Bad filename!", 403
    conn = db()
    cur = conn.cursor()
    uid = uuid.uuid4().hex
    try:
        cur.execute("insert into files (id, path) values (?, ?)", (uid, file.filename,))
    except sqlite3.IntegrityError:
        return "Duplicate file"
    conn.commit()

    file.save('uploads/' + file.filename)
    return redirect('/file/' + uid)
```

å¯çŸ¥ï¼Œè‹¥ä¸Šä¼ çš„æ–‡ä»¶ä¸­åŒ…å«â€œ.â€ï¼Œåˆ™ä¼šè¿”å›Bad filename!ï¼Œé‚£æˆ‘ä»¬ä¸Šä¼ ä¸€ä¸ªæ²¡æœ‰åç¼€çš„æ–‡ä»¶

![image-20230227212011588](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230227212011588.png)

```
@app.route('/upload', methods=['POST'])
def upload():
    if 'file' not in request.files:
        return redirect('/')
    file = request.files['file']
    if "." in file.filename:
        return "Bad filename!", 403
    conn = db()
    cur = conn.cursor()
    uid = uuid.uuid4().hex
    try:
        cur.execute("insert into files (id, path) values (?, ?)", (uid, file.filename,))
    except sqlite3.IntegrityError:
        return "Duplicate file"
    conn.commit()

    file.save('uploads/' + file.filename)
    return redirect('/file/' + uid)


@app.route('/file/<id>')
def file(id):
    conn = db()
    cur = conn.cursor()
    cur.execute("select path from files where id=?", (id,))
    res = cur.fetchone()
    if res is None:
        return "File not found", 404

    # print(res[0])

    with open(os.path.join("uploads/", res[0]), "r") as f:
        return f.read()

```

ä¸Šä¼ åç”Ÿæˆä¸€ä¸ªuuidï¼Œå¹¶å°†uuidå’Œæ–‡ä»¶åå­˜å…¥æ•°æ®åº“ä¸­ï¼Œå¹¶è¿”å›æ–‡ä»¶çš„uuidã€‚å†é€šè¿‡`/file/uuid`è®¿é—®æ–‡ä»¶ï¼Œé€šè¿‡æŸ¥è¯¢æ•°æ®åº“å¾—åˆ°å¯¹åº”æ–‡ä»¶åï¼Œåœ¨æ–‡ä»¶åå‰æ‹¼æ¥`uploads/`åè¯»å–è¯¥è·¯å¾„ä¸‹ä¸Šä¼ çš„æ–‡ä»¶ã€‚

> **ç»å¯¹è·¯å¾„æ‹¼æ¥æ¼æ´**
>
> â€‹	os.path.join(path,*paths)å‡½æ•°ç”¨äºå°†å¤šä¸ªæ–‡ä»¶è·¯å¾„è¿æ¥æˆä¸€ä¸ªç»„åˆçš„è·¯å¾„ã€‚ç¬¬ä¸€ä¸ªå‡½æ•°é€šå¸¸åŒ…å«äº†åŸºç¡€è·¯å¾„ï¼Œè€Œä¹‹åçš„æ¯ä¸ªå‚æ•°è¢«å½“ä½œç»„ä»¶æ‹¼æ¥åˆ°åŸºç¡€è·¯å¾„ä¹‹åã€‚
>
> â€‹	ç„¶è€Œï¼Œè¿™ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªå°‘æœ‰äººçŸ¥çš„ç‰¹æ€§ï¼Œå¦‚æœæ‹¼æ¥çš„æŸä¸ªè·¯å¾„ä»¥ / å¼€å¤´ï¼Œé‚£ä¹ˆåŒ…æ‹¬åŸºç¡€è·¯å¾„åœ¨å†…çš„æ‰€æœ‰å‰ç¼€è·¯å¾„éƒ½å°†è¢«åˆ é™¤ï¼Œè¯¥è·¯å¾„å°†è§†ä¸ºç»å¯¹è·¯å¾„

å½“ä¸Šä¼ çš„æ–‡ä»¶åä¸º /flag ï¼Œä¸Šä¼ åé€šè¿‡uuidè®¿é—®æ–‡ä»¶åï¼ŒæŸ¥è¯¢åˆ°çš„æ–‡ä»¶åæ˜¯ /flag ï¼Œé‚£ä¹ˆè¿›è¡Œè·¯å¾„æ‹¼æ¥æ—¶ï¼Œuploads/ å°†è¢«åˆ é™¤ï¼Œè¯»å–åˆ°çš„å°±æ˜¯æ ¹ç›®å½•ä¸‹çš„ flag æ–‡ä»¶ã€‚

### [NISACTF 2022]bingdundun~

é¢˜ç›®æç¤ºå¯ä»¥ä¸Šä¼ å‹ç¼©åŒ…ï¼Œå…³äºphar://ä¼ªåè®®ï¼ŒChatGPTç»™å‡ºäº†è¿™æ ·çš„

Phar:// æ˜¯ PHP ä¸­çš„ä¸€ä¸ªä¼ªåè®®ï¼Œç”¨äºè®¿é—® Phar ï¼ˆPHP Archiveï¼‰æ–‡ä»¶ï¼ŒPhar æ˜¯ä¸€ç§ç±»ä¼¼äº Zip çš„æ–‡ä»¶æ ¼å¼ï¼Œç”¨äºå°†å¤šä¸ª PHP æ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶å¯ä»¥åƒä¸€ä¸ªæ™®é€šçš„ PHP æ–‡ä»¶ä¸€æ ·ä½¿ç”¨ã€‚

> ä¸»è¦æ˜¯ç”¨äºåœ¨phpä¸­å¯¹å‹ç¼©æ–‡ä»¶æ ¼å¼çš„è¯»å–ã€‚è¿™ç§æ–¹å¼é€šå¸¸æ˜¯ç”¨æ¥é…åˆæ–‡ä»¶ä¸Šä¼ æ¼æ´ä½¿ç”¨ï¼Œæˆ–è€…è¿›è¡Œè¿›é˜¶çš„pharååºåˆ—åŒ–æ”»å‡»
>
> ç”¨æ³•å°±æ˜¯æŠŠä¸€å¥è¯æœ¨é©¬å‹ç¼©æˆzipæ ¼å¼ï¼Œshell.php -> shell.zipï¼Œç„¶åå†ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ˆåç»­é€šè¿‡å‰ç«¯é¡µé¢ä¸Šä¼ ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œé€šå¸¸æœåŠ¡å™¨ä¸ä¼šé™åˆ¶ä¸Šä¼  zip æ–‡ä»¶ï¼‰ï¼Œå†è®¿é—®ï¼š?filename=phar://â€¦/shell.zip/shell.php
>
> åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/YangYubo091699/article/details/127351065

æ‰€ä»¥ï¼Œä¸Šä¼ a.zip(a.phpä¸€å¥è¯æœ¨é©¬)ï¼Œ

![image-20230227223242867](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230227223242867.png)

æ ¹æ®é¦–é¡µç»™çš„æç¤ºï¼Œæ„é€ payload

```
http://1.14.71.254:28403/?bingdundun=phar://6d3604f6ad66f035685c8e4caa342aea.zip/a
```

![image-20230227223354412](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230227223354412.png)

éšååœ¨èšå‰‘è¿æ¥ï¼Œå¹¶åœ¨æ ¹ç›®å½•å‘ç°äº†flag

### [SWPUCTF 2021 æ–°ç”Ÿèµ›]jicao

phpä»£ç å®¡è®¡

![image-20230228162903097](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228162903097.png)

â€‹	åˆ†æä»£ç å¯çŸ¥ï¼Œéœ€è¦ç”¨getæ–¹æ³•ä¼ è¿›ä¸€ä¸ªjsonï¼Œä»¥åŠé€šè¿‡postæ–¹æ³•ä¼ å…¥ä¸€ä¸ªid
â€‹	æ„é€ æ•°æ®åŒ…å¦‚ä¸‹ï¼š

![image-20230228163043675](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228163043675.png)

â€‹	å›æ˜¾å¾—åˆ°flag

### ![image-20230228182602104](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228182602104.png)[SWPUCTF 2021 æ–°ç”Ÿèµ›]easy_md5

![](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228182602104.png)
	è¿›è¡Œä»£ç å®¡è®¡ï¼Œè¦æ±‚nameå’Œpasswordçš„å€¼ä¸åŒï¼ŒåŒæ—¶è¦æ±‚ä¸¤è€…çš„mdç›¸åŒï¼Œç„¶è€Œè¿›è¡Œåˆ¤æ–­æ˜¯ç”¨çš„æ˜¯"=="ç¬¦å·ï¼Œè¿™æ˜¯phpçš„å¼±ç±»å‹æ¯”è¾ƒ
	æ³•ä¸€ï¼šå¯ä»¥ä½¿ç”¨å¸¦0eå¼€å¤´çš„æ•°å­—ä¸²è¿›è¡Œå‚æ•°ä¼ é€’ï¼Œå› ä¸ºPHPä¼šå°†0eå¼€å¤´çš„æ•°å­—è½¬åŒ–ä¸º0ï¼Œæ•…æ­¤æ—¶md5å€¼ç›¸ç­‰ï¼ŒäºŒæ¥èƒ½å¤Ÿç»™å˜é‡çš„å€¼ä¸ç›¸ç­‰ã€‚
	æ³•äºŒï¼šå¯ä»¥ä¼ é€’æ•°ç»„ï¼Œå¦‚name[]=123ï¼Œpassword[]=456ï¼Œmd5ä¸èƒ½åŠ å¯†æ•°ç»„ï¼Œæ•…ä¸¤ä¸ªmd5è¿”å›çš„éƒ½æ˜¯null

â€‹	ï¼ˆå¦ï¼šè‹¥é‡åˆ°`===`è¿™æ ·çš„å¼ºç±»å‹æ¯”è¾ƒï¼Œæ–¹æ³•ä¸€å°±å¤±æ•ˆäº†ï¼Œæ–¹æ³•äºŒä»ç„¶æœ‰æ•ˆï¼Œæˆ–è€…è¿˜å¯ä»¥ä½¿ç”¨è½¯ä»¶fastcollè¿›è¡Œmd5ç¢°æ’ï¼Œç”Ÿæˆä¸¤ä¸ªå­—ç¬¦ä¸²ä½¿å¾—ä»–ä»¬çš„md5å€¼ç›¸åŒï¼‰

â€‹	å¦ï¼š0eå¼€å¤´çš„æ•°å­—

> s878926199a
> 0e545993274517709034328855841020
> s155964671a
> 0e342768416822451524974117254469
> s214587387a
> 0e848240448830537924465865611904
> s214587387a
> 0e848240448830537924465865611904
> s878926199a
> 0e545993274517709034328855841020
> s1091221200a
> 0e940624217856561557816327384675
> s1885207154a
> 0e509367213418206700842008763514
> s1502113478a
> 0e861580163291561247404381396064
> s1885207154a
> 0e509367213418206700842008763514
> s1836677006a
> 0e481036490867661113260034900752
> s155964671a
> 0e342768416822451524974117254469
> s1184209335a
> 0e072485820392773389523109082030
> s1665632922a
> 0e731198061491163073197128363787
> s1502113478a
> 0e861580163291561247404381396064
> s1836677006a
> 0e481036490867661113260034900752
> s1091221200a
> 0e940624217856561557816327384675
> s155964671a
> 0e342768416822451524974117254469
> s1502113478a
> 0e861580163291561247404381396064
> s155964671a
> 0e342768416822451524974117254469
> s1665632922a
> 0e731198061491163073197128363787
> s155964671a
> 0e342768416822451524974117254469
> s1091221200a
> 0e940624217856561557816327384675
> s1836677006a
> 0e481036490867661113260034900752
> s1885207154a
> 0e509367213418206700842008763514
> s532378020a
> 0e220463095855511507588041205815
> s878926199a
> 0e545993274517709034328855841020
> s1091221200a
> 0e940624217856561557816327384675
> s214587387a
> 0e848240448830537924465865611904
> s1502113478a
> 0e861580163291561247404381396064
> s1091221200a
> 0e940624217856561557816327384675
> s1665632922a
> 0e731198061491163073197128363787
> s1885207154a
> 0e509367213418206700842008763514
> s1836677006a
> 0e481036490867661113260034900752
> s1665632922a
> 0e731198061491163073197128363787
> s878926199a
> 0e545993274517709034328855841020
> 240610708
> 0e462097431906509019562988736854
> 314282422

ä½¿ç”¨bpå‘åŒ…ï¼Œå¾—åˆ°flag

![image-20230228184224073](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228184224073.png)

### [SWPUCTF 2021 æ–°ç”Ÿèµ›]Do_you_know_http

![image-20230228184640217](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228184640217.png)

æ ¹æ®é¡µé¢åé¦ˆä¿¡æ¯ï¼Œä»¥åŠé¢˜ç›®æè¿°æç¤ºï¼Œè¿›è¡ŒæŠ“åŒ…ä¿®æ”¹user-agentå¹¶æ·»åŠ xffï¼Œåœ¨è¿”å›ä¿¡æ¯ä¸­ï¼Œå¾—åˆ°location

![image-20230228184610682](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228184610682.png)

è®¿é—®a.php

![image-20230228184803323](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228184803323.png)

å†æ¬¡å‘åŒ…ï¼Œå‘ç°æ–°ç«™ç‚¹
![image-20230228184939746](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228184939746.png)

è®¿é—®åå¾—åˆ°flag

### [SWPUCTF 2021 æ–°ç”Ÿèµ›]babyrce

![image-20230228185051813](C:\Users\Scofield_Lee\AppData\Roaming\Typora\typora-user-images\image-20230228185051813.png)

æ ¹æ®é¢˜ç›®æç¤ºæ¨æµ‹ï¼Œåº”è¯¥è·Ÿcookieæœ‰å…³
æŠ“åŒ…ä¿®æ”¹cookieçš„å€¼ï¼Œå‘åŒ…åå‘ç°æ–°ç«™ç‚¹ï¼š

![image-20230228185550733](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228185550733.png)

```
<?php
error_reporting(0);
highlight_file(__FILE__);
error_reporting(0);
if (isset($_GET['url'])) {
  $ip=$_GET['url'];
  if(preg_match("/ /", $ip)){
      die('nonono');
  }
  $a = shell_exec($ip);
  echo $a;
}
?> nonono
```

â€‹	ä»ä»£ç å±‚é¢æ¥çœ‹ï¼Œå±è”½äº†ç©ºæ ¼ï¼ˆ ï¼‰ï¼Œæ‰€ä»¥è¦é‡‡å–æ‰‹æ®µæ¥ç»•è¿‡å¯¹ç©ºæ ¼çš„å±è”½ï¼Œå¦‚æœä¼ å…¥çš„urlå€¼ä¸åŒ…å«ç©ºæ ¼ï¼Œåˆ™é€šè¿‡å‡½æ•° **$a = shell_exec($ip);**è¿›è¡Œè¿œç¨‹rce

> åœ¨è¿‡æ»¤äº†ç©ºæ ¼çš„ç³»ç»Ÿä¸­ï¼Œä»¥cat flag.txtä¸ºä¾‹ï¼Œç³»ç»Ÿä¸å…è®¸æˆ‘ä»¬è¾“å…¥ç©ºæ ¼æˆ–è¾“å…¥åè¢«è¿‡æ»¤ã€‚
>
> ${IFS}
>
> å¯ä½¿ç”¨${IFS}ä»£æ›¿ç©ºæ ¼ã€‚
>
> cat${IFS}flag.txt
>
> cat$IFS$1flag.txt
>
> cat${IFS}$1flag.txt

![image-20230228190745205](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228190745205.png)

å…ˆæŸ¥çœ‹æ ¹ç›®å½•ï¼Œå‘ç°ç–‘ä¼¼æ–‡ä»¶
éšåä½¿ç”¨tacæˆ–catè¯»å–æ–‡ä»¶ï¼Œå¾—åˆ°flag
![image-20230228190903485](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228190903485.png)

### [ç¬¬äº”ç©ºé—´ 2021]WebFTP

![image-20230228193747945](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228193747945.png)

â€‹	F12å‘ç°ç”¨æˆ·åä¸ºadminï¼Œå°è¯•çˆ†ç ´å¼±å£ä»¤ï¼Œå¯æƒœæ²¡çˆ†ç ´å‡ºæ¥ï¼Œæ‰«æç½‘ç«™åå°ï¼Œå‘ç°æœ‰.gitæ–‡ä»¶ï¼Œä½¿ç”¨githackerè¿›è¡Œæ‰’å–ï¼Œè¿™é‡Œå¤ä¹ ä¸€ä¸‹githackerçš„ç”¨æ³•ï¼ŒåŠŸèƒ½ä¸Šæ˜¯æ¯”githackè¦å¼ºå¤§çš„ã€‚
â€‹	è¿›å…¥åˆ°Githackeræ–‡ä»¶å¤¹æ‰§è¡Œ`__init__.py`æ ¼å¼å¦‚ä¸‹ï¼š

```
â”Œâ”€â”€(rootã‰¿kali)-[/home/kali/githacker/GitHacker]
â””â”€# python __init__.py --url http://1.14.71.254:28784/.git/ --output-folder result
```

â€‹	æ‰’å–åˆ°çš„ç›¸å…³æ–‡ä»¶ä¼šè¾“å‡ºåˆ°è¯¥ç›®å½•ä¸‹resultæ–‡ä»¶å¤¹ä¸­ï¼ŒæŸ¥çœ‹readme.mdæ–‡æ¡£ï¼Œå‘ç°åˆå§‹è´¦å·å’Œå¯†ç 

![image-20230228194410519](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228194410519.png)

![image-20230228194643435](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228194643435.png)

â€‹	è¿›å»ä¹‹åï¼Œå¥½åƒæ²¡å•¥åµç”¨ï¼Œphpinfo.phpæ–‡ä»¶åœ¨ç›®å½•var/www/htmlä¸­ï¼Œä½†å‘ç°æ— æ³•åœ¨ftpé‡Œé¢ç›´æ¥æ‰“å¼€ã€‚
â€‹	ç›´æ¥è®¿é—®`http://1.14.71.254:28306/.phpinfo.php`å°±å¯ä»¥äº†
â€‹	æˆ‘è§‰å¾—å€’æ˜¯åšäº†è®¸å¤šæ— ç”¨åŠŸï¼Œå¤ç›˜æ—¶è¿”ç°ç›´æ¥dirsearchè¿”å›çš„ç»“æœä¸­é™¤äº†.gitï¼Œä¹ŸåŒ…å«äº†README.mdæ–‡ä»¶ä»¥åŠphpinfo.phpéƒ½å¯ä»¥ç›´æ¥è®¿é—®ï¼Œåœ¨phpinfoé¡µé¢æœç´¢flagç›´æ¥å‡ºã€‚

![image-20230228195643826](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228195643826.png)

### [SWPUCTF 2021 æ–°ç”Ÿèµ›]include

â€‹	è¿›å…¥ç¯å¢ƒï¼Œæç¤ºä¼ å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œæ­¤å¤–å¹¶æ²¡æœ‰å‘ç°ä»€ä¹ˆæœ‰æ•ˆä¿¡æ¯ï¼Œdirsearchæ‰«æåå°ç›®å½•ï¼Œä¹Ÿæ²¡å•¥æœ‰æ•ˆä¿¡æ¯ï¼Œå°è¯•phpä¼ªåè®®

![image-20230228201522848](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228201522848.png)

â€‹	æ„é€ payloadè¿›è¡Œgetä¼ å‚ï¼š`http://1.14.71.254:28956/?file=flag`

![image-20230228201804240](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228201804240.png)

å‘ç°æœ‰**include_onceå‡½æ•°**

include_once()ï¼šåœ¨è„šæœ¬æ‰§è¡ŒæœŸé—´åŒ…å«å¹¶è¿è¡ŒæŒ‡å®šæ–‡ä»¶ã€‚è¯¥å‡½æ•°å’Œinclude å‡½æ•°ç±»ä¼¼ï¼Œä¸¤è€…å”¯ä¸€çš„åŒºåˆ«æ˜¯ ä½¿ç”¨è¯¥å‡½æ•°çš„æ—¶å€™ï¼Œphpä¼šåŠ æ£€æŸ¥æŒ‡å®šæ–‡ä»¶æ˜¯å¦å·²ç»è¢«åŒ…å«è¿‡ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ä¸ä¼šå†è¢«åŒ…å«ã€‚

äºæ˜¯åˆ©ç”¨ä¼ªåè®®æ„é€ ï¼Œå¾—åˆ°ç»è¿‡base64ç¼–ç çš„flag

```
http://1.14.71.254:28956/?file=php://filter/convert.base64-encode/resource=flag.php
```

![image-20230228204810974](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228204810974.png)
è‡³äºä¸ºä»€ä¹ˆè¦ä½¿ç”¨base64è¿›è¡Œç¼–ç è¾“å‡º

> **å¸¸è§çš„phpä¼ªåè®®**
>
> 1ï¼‰file:// è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ
>
> 2ï¼‰http:// è®¿é—®HTTP(S)ç½‘å€
>
> 3ï¼‰ftp:// è®¿é—®FTP(S)URL
>
> 4)php:// è®¿é—®å„ä¸ªè¾“å‡ºè¾“å…¥æµ
>
> 5)zlib:// å¤„ç†å‹ç¼©æµ
>
> 6)data:// è¯»å–æ•°æ®
>
> 7)glob:// æŸ¥æ‰¾åŒ¹é…çš„æ–‡ä»¶è·¯å¾„æ¨¡å¼
>
> 8)phar:// PHPå½’æ¡£
>
> 9)rar:// RARæ•°æ®å‹ç¼©

è‡³äºä¸ºä»€ä¹ˆè¦ä½¿ç”¨base64ç¼–ç ï¼ŒChatGPTç»™å‡ºäº†è¿™æ ·çš„å›ç­”ï¼š

> ä¸ºäº†å°†ç›®æ ‡æ–‡ä»¶å†…å®¹ä»¥æ–‡æœ¬å½¢å¼ä¼ è¾“ç»™æ”»å‡»è€…ï¼Œæ”»å‡»è€…é€šå¸¸ä¼šå°†ç›®æ ‡æ–‡ä»¶å†…å®¹è¿›è¡Œç¼–ç ï¼Œä¾‹å¦‚ä½¿ç”¨Base64ç¼–ç ã€‚è¿™æ˜¯å› ä¸ºHTTPåè®®åªèƒ½ä¼ è¾“æ–‡æœ¬æ•°æ®ï¼Œå¯¹äºäºŒè¿›åˆ¶æ•°æ®ï¼Œå¦‚å›¾ç‰‡ã€éŸ³é¢‘å’Œè§†é¢‘ç­‰ï¼Œéœ€è¦è¿›è¡Œç¼–ç æ‰èƒ½åœ¨HTTPè¯·æ±‚å’Œå“åº”ä¸­ä¼ è¾“ã€‚
>
> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…å¯ä»¥å°†ç›®æ ‡æ–‡ä»¶å†…å®¹è¿›è¡ŒBase64ç¼–ç ï¼Œç„¶åå°†ç¼–ç åçš„ç»“æœä½œä¸ºHTTPè¯·æ±‚æˆ–å“åº”çš„ä¸€éƒ¨åˆ†ï¼Œä»è€Œå®ç°ä¼ è¾“ã€‚åœ¨æ¥æ”¶åˆ°å“åº”åï¼Œæ”»å‡»è€…å¯ä»¥å°†ç¼–ç åçš„ç»“æœè§£ç ï¼Œä»è€Œè·å¾—åŸå§‹çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œå³ç›®æ ‡æ–‡ä»¶çš„å†…å®¹ã€‚

(æˆ‘ä»¬è¯»å–çš„æ˜¯flag.phpï¼Œè€Œå¹¶é.txtæ–‡ä»¶)

å¼•ç”¨ä¸€ä¸‹[å¤´ç§ƒçš„bug](https://blog.csdn.net/L2329794714)å¸ˆå‚…åœ¨CSDNçš„ç¬”è®°ï¼š

![image-20230228204934173](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228204934173.png)

> **è¿‡æ»¤å™¨çš„åˆ†ç±»ï¼ˆåŠå¸¸è§è¿‡æ»¤å™¨ï¼‰ï¼š**
>
> **string filter(å­—ç¬¦è¿‡æ»¤å™¨)**
> **string.rot13  (å¯¹å­—ç¬¦ä¸²æ‰§è¡Œ ROT13 è½¬æ¢)**
>                     ä¾‹ï¼šphp://filter/string.rot13/resource=flag.php
> **string.toupper (è½¬å¤§å†™)**
>                     ä¾‹ï¼šphp://filter/string.toupper/resource=flag.php
> **string.tolower (è½¬å°å†™)**
> **string.strip_tags (å»é™¤ HTML å’Œ PHP æ ‡è®°ï¼Œå°è¯•è¿”å›ç»™å®šçš„å­—ç¬¦ä¸² str å»é™¤ç©ºå­—ç¬¦ã€HTML å’Œ PHP æ ‡è®°åçš„ç»“æœ)**
>                     ä¾‹ï¼šphp://filter/string.strip_tags/resource=flag.php
> **conversion filter (è½¬æ¢è¿‡æ»¤å™¨)**
>             convert.base64-encode & convert.base64-decode (base64åŠ å¯† base64è§£å¯†)
>                     ä¾‹ï¼šphp://filter/convert.base64-encode/resource=flag.php
>             convert.quoted-printable-encode & convert.quoted-printable-decode(åœ¨å­—ç¬¦ä¸²ååŠ =0A,åŠæ¢å¤)
> **compression filter(å‹ç¼©è¿‡æ»¤)**
>             zlib.deflate & zlib.inflate(å‹ç¼© è§£å‹)
>                     ä¾‹ï¼šphp://filter/zlib.deflate/resource=flag.php                                                       php://filter/zlib.inflate/resource=flag.php
>             bzip2.compress & bzip2.decompress(zip å‹ç¼© è§£å‹)
> **encryption filter(åŠ å¯†è¿‡æ»¤å™¨)** 

æ‘˜è‡ªï¼šhttps://blog.csdn.net/L2329794714/article/details/121288668

### [SWPUCTF 2021 æ–°ç”Ÿèµ›]easyrce

ç°å¸¸ç®€å•çš„rceï¼Œ
<img src="https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228205604826.png" alt="image-20230228205604826" style="zoom:67%;" />

åœ¨phpinfoä¸­æœªå‘ç°flagï¼Œéšåæ„é€ ï¼š

```
http://1.14.71.254:28678/?url=system("ls /);
```

![image-20230228205746590](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228205746590.png)

```
http://1.14.71.254:28678/?url=system(%22tac%20/flllllaaaaaaggggggg%22);
```

å¾—åˆ°flag

### [SWPUCTF 2021 æ–°ç”Ÿèµ›]ez_unserialize

<img src="https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228210051445.png" alt="image-20230228210051445" style="zoom:67%;" />

æ²¡å•¥æœ‰æ•ˆä¿¡æ¯ï¼Œæ‰«æä¸€ä¸‹åå°ï¼Œå‘ç°

![image-20230228210325967](https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228210325967.png)

è¿›å…¥c145s.phpï¼Œå¾—åˆ°æºä»£ç 
<img src="https://scofield-1313710994.cos.ap-beijing.myqcloud.com/image-20230228210349597.png" alt="image-20230228210349597" style="zoom:80%;" />

ç»å…¸phpååºåˆ—åŒ–ï¼ŒChatGPTè®²çš„å¾ˆæ˜ç¡®äº†

> 1. ç¦ç”¨é”™è¯¯æŠ¥å‘Šã€‚`error_reporting(0);` å¯ä»¥ç¦ç”¨ PHP çš„é”™è¯¯æŠ¥å‘Šï¼Œä»¥ç¡®ä¿æ”»å‡»è€…æ— æ³•é€šè¿‡é”™è¯¯ä¿¡æ¯æ¥äº†è§£ä»£ç çš„è¿è¡Œæƒ…å†µã€‚
> 2. æ˜¾ç¤º `cl45s.php` çš„æºä»£ç ã€‚`show_source("cl45s.php");` ç”¨äºå°† `cl45s.php` çš„æºä»£ç æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œè¿™å¯ä»¥å¸®åŠ©æ”»å‡»è€…æ›´å¥½åœ°äº†è§£ä»£ç çš„è¿è¡Œæƒ…å†µå’Œæ¼æ´ç‚¹ã€‚
> 3. å®šä¹‰ `wllm` ç±»ã€‚è¿™ä¸ªç±»å…·æœ‰ä¸¤ä¸ªå…¬å…±å±æ€§ `$admin` å’Œ `$passwd`ï¼Œåˆ†åˆ«ç”¨äºå­˜å‚¨ç”¨æˆ·åå’Œå¯†ç ã€‚ç±»ä¸­å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯æ„é€ å‡½æ•° `__construct()`ï¼Œç”¨äºåˆå§‹åŒ– `$admin` å’Œ `$passwd` çš„å€¼ï¼›å¦ä¸€ä¸ªæ˜¯ææ„å‡½æ•° `__destruct()`ï¼Œå½“å¯¹è±¡è¢«é”€æ¯æ—¶æ‰§è¡Œã€‚
> 4. å¤„ç†ä¼ å…¥çš„å‚æ•°ã€‚`$p = $_GET['p'];` ç”¨äºè·å– URL å‚æ•°ä¸­åä¸º `p` çš„å€¼ã€‚
> 5. ååºåˆ—åŒ–ã€‚`unserialize($p);` å°†ä¼ å…¥çš„å‚æ•° `$p` è¿›è¡Œååºåˆ—åŒ–å¤„ç†ï¼Œå³å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º PHP å¯¹è±¡ã€‚
> 6. è°ƒç”¨ææ„å‡½æ•°ã€‚ç”±äºåœ¨ååºåˆ—åŒ–æ—¶ä¼šè°ƒç”¨å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œå› æ­¤åœ¨å¯¹è±¡è¢«é”€æ¯æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•° `__destruct()`ã€‚åœ¨ææ„å‡½æ•°ä¸­ï¼Œå¦‚æœ `$admin` çš„å€¼ä¸º `"admin"`ï¼Œ`$passwd` çš„å€¼ä¸º `"ctf"`ï¼Œåˆ™ä¼šåŒ…å«ä¸€ä¸ªåä¸º `flag.php` çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶ä¸­çš„ `$flag` å˜é‡è¾“å‡ºåˆ°é¡µé¢ä¸Šã€‚å¦åˆ™ï¼Œä¼šå°† `$admin` å’Œ `$passwd` çš„å€¼è¾“å‡ºåˆ°é¡µé¢ä¸Šï¼Œå¹¶è¾“å‡ºä¸€æ¡æç¤ºä¿¡æ¯ã€‚

ä¼ å…¥ä»¥ä¸‹å‚æ•°å¾—åˆ°flag

```
http://1.14.71.254:28814/cl45s.php?p=O:4:%22wllm%22:2:{s:5:%22admin%22;s:5:%22admin%22;s:6:%22passwd%22;s:3:%22ctf%22;}
```

[å¤ä¹ phpååºåˆ—åŒ–]

> ##### ä»€ä¹ˆæ˜¯ååºåˆ—åŒ–æ¼æ´
>
> å½“ç¨‹åºåœ¨è¿›è¡Œååºåˆ—åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ä¸€äº›å‡½æ•°ï¼Œä¾‹å¦‚__wakeup(),__destruct()ç­‰å‡½æ•°ï¼Œä½†æ˜¯å¦‚æœä¼ å…¥å‡½æ•°çš„å‚æ•°å¯ä»¥è¢«ç”¨æˆ·æ§åˆ¶çš„è¯ï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥ä¸€äº›æ¶æ„ä»£ç åˆ°å‡½æ•°ä¸­ï¼Œä»è€Œå¯¼è‡´ååºåˆ—åŒ–æ¼æ´ã€‚
>
> ##### PHPé­”æœ¯æ–¹æ³•
>
> é­”æœ¯æ–¹æ³•æ˜¯PHPé¢å‘å¯¹è±¡ä¸­ç‰¹æœ‰çš„ç‰¹æ€§ã€‚å®ƒä»¬åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹è¢«è§¦å‘ï¼Œéƒ½æ˜¯ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´ï¼Œåˆ©ç”¨é­”æœ¯æ–¹æ³•å¯ä»¥è½»æ¾å®ç°PHPé¢å‘å¯¹è±¡ä¸­é‡è½½ï¼ˆOverloadingå³åŠ¨æ€åˆ›å»ºç±»å±æ€§å’Œæ–¹æ³•ï¼‰ã€‚ é—®é¢˜å°±å‡ºç°åœ¨é‡è½½è¿‡ç¨‹ä¸­ï¼Œæ‰§è¡Œäº†ç›¸å…³ä»£ç ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„phpé­”æœ¯æ–¹æ³•ï¼š

```
1ã€__getã€__set

è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯ä¸ºåœ¨ç±»å’Œä»–ä»¬çš„çˆ¶ç±»ä¸­æ²¡æœ‰å£°æ˜çš„å±æ€§è€Œè®¾è®¡çš„

__get( $property ) å½“è°ƒç”¨ä¸€ä¸ªæœªå®šä¹‰çš„å±æ€§æ—¶è®¿é—®æ­¤æ–¹æ³•

__set( $property, $value ) ç»™ä¸€ä¸ªæœªå®šä¹‰çš„å±æ€§èµ‹å€¼æ—¶è°ƒç”¨

è¿™é‡Œçš„æ²¡æœ‰å£°æ˜åŒ…æ‹¬è®¿é—®æ§åˆ¶ä¸ºproteced,privateçš„å±æ€§ï¼ˆå³æ²¡æœ‰æƒé™è®¿é—®çš„å±æ€§ï¼‰

2ã€__issetã€__unset

__isset( $property ) å½“åœ¨ä¸€ä¸ªæœªå®šä¹‰çš„å±æ€§ä¸Šè°ƒç”¨isset()å‡½æ•°æ—¶è°ƒç”¨æ­¤æ–¹æ³•

__unset( $property ) å½“åœ¨ä¸€ä¸ªæœªå®šä¹‰çš„å±æ€§ä¸Šè°ƒç”¨unset()å‡½æ•°æ—¶è°ƒç”¨æ­¤æ–¹æ³•

ä¸__getæ–¹æ³•å’Œ__setæ–¹æ³•ç›¸åŒï¼Œè¿™é‡Œçš„æ²¡æœ‰å£°æ˜åŒ…æ‹¬è®¿é—®æ§åˆ¶ä¸ºproteced,privateçš„å±æ€§ï¼ˆå³æ²¡æœ‰æƒé™è®¿é—®çš„å±æ€§ï¼‰

3ã€__call

__call( $method, $arg_array ) å½“è°ƒç”¨ä¸€ä¸ªæœªå®šä¹‰(åŒ…æ‹¬æ²¡æœ‰æƒé™è®¿é—®)çš„æ–¹æ³•æ˜¯è°ƒç”¨æ­¤æ–¹æ³•

4ã€__autoload

__autoload å‡½æ•°ï¼Œä½¿ç”¨å°šæœªè¢«å®šä¹‰çš„ç±»æ—¶è‡ªåŠ¨è°ƒç”¨ã€‚é€šè¿‡æ­¤å‡½æ•°ï¼Œè„šæœ¬å¼•æ“åœ¨ PHP å‡ºé”™å¤±è´¥å‰æœ‰äº†æœ€åä¸€ä¸ªæœºä¼šåŠ è½½æ‰€éœ€çš„ç±»ã€‚

æ³¨æ„: åœ¨ __autoload å‡½æ•°ä¸­æŠ›å‡ºçš„å¼‚å¸¸ä¸èƒ½è¢« catch è¯­å¥å—æ•è·å¹¶å¯¼è‡´è‡´å‘½é”™è¯¯ã€‚

5ã€__constructã€__destruct

__construct æ„é€ æ–¹æ³•ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è¢«åˆ›å»ºæ—¶è°ƒç”¨æ­¤æ–¹æ³•ï¼Œå¥½å¤„æ˜¯å¯ä»¥ä½¿æ„é€ æ–¹æ³•æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„åç§°ï¼Œæ— è®ºå®ƒæ‰€åœ¨çš„ç±»çš„åç§°æ˜¯ä»€ä¹ˆï¼Œè¿™æ ·ä½ åœ¨æ”¹å˜ç±»çš„åç§°æ—¶ï¼Œå°±ä¸éœ€è¦æ”¹å˜æ„é€ æ–¹æ³•çš„åç§°

__destruct ææ„æ–¹æ³•ï¼ŒPHPå°†åœ¨å¯¹è±¡è¢«é”€æ¯å‰ï¼ˆå³ä»å†…å­˜ä¸­æ¸…é™¤å‰ï¼‰è°ƒç”¨è¿™ä¸ªæ–¹æ³•

é»˜è®¤æƒ…å†µä¸‹,PHPä»…ä»…é‡Šæ”¾å¯¹è±¡å±æ€§æ‰€å ç”¨çš„å†…å­˜å¹¶é”€æ¯å¯¹è±¡ç›¸å…³çš„èµ„æº.ï¼Œææ„å‡½æ•°å…è®¸ä½ åœ¨ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡ä¹‹åæ‰§è¡Œä»»æ„ä»£ç æ¥æ¸…é™¤å†…å­˜ï¼Œå½“PHPå†³å®šä½ çš„è„šæœ¬ä¸å†ä¸å¯¹è±¡ç›¸å…³æ—¶ï¼Œææ„å‡½æ•°å°†è¢«è°ƒç”¨.

åœ¨ä¸€ä¸ªå‡½æ•°çš„å‘½åç©ºé—´å†…ï¼Œè¿™ä¼šå‘ç”Ÿåœ¨å‡½æ•°returnçš„æ—¶å€™ï¼Œå¯¹äºå…¨å±€å˜é‡ï¼Œè¿™å‘ç”Ÿäºè„šæœ¬ç»“æŸçš„æ—¶å€™ï¼Œå¦‚æœä½ æƒ³æ˜ç¡®åœ°é”€æ¯ä¸€ä¸ªå¯¹è±¡ï¼Œä½ å¯ä»¥ç»™æŒ‡å‘è¯¥å¯¹è±¡çš„å˜é‡åˆ†é…ä»»ä½•å…¶å®ƒå€¼ï¼Œé€šå¸¸å°†å˜é‡èµ‹å€¼å‹¤ä¸ºNULLæˆ–è€…è°ƒç”¨unsetã€‚

6ã€__clone

PHP5ä¸­çš„å¯¹è±¡èµ‹å€¼æ˜¯ä½¿ç”¨çš„å¼•ç”¨èµ‹å€¼ï¼Œä½¿ç”¨cloneæ–¹æ³•å¤åˆ¶ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¯¹è±¡ä¼šè‡ªåŠ¨è°ƒç”¨__cloneé­”æœ¯æ–¹æ³•ï¼Œå¦‚æœåœ¨å¯¹è±¡å¤åˆ¶éœ€è¦æ‰§è¡ŒæŸäº›åˆå§‹åŒ–æ“ä½œï¼Œå¯ä»¥åœ¨__cloneæ–¹æ³•å®ç°ã€‚

7ã€__toString

__toStringæ–¹æ³•åœ¨å°†ä¸€ä¸ªå¯¹è±¡è½¬åŒ–æˆå­—ç¬¦ä¸²æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œæ¯”å¦‚ä½¿ç”¨echoæ‰“å°å¯¹è±¡æ—¶ï¼Œå¦‚æœç±»æ²¡æœ‰å®ç°æ­¤æ–¹æ³•ï¼Œåˆ™æ— æ³•é€šè¿‡echoæ‰“å°å¯¹è±¡ï¼Œå¦åˆ™ä¼šæ˜¾ç¤ºï¼šCatchable fatal error: Object of class test could not be converted to string inï¼Œæ­¤æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

åœ¨PHP 5.2.0ä¹‹å‰ï¼Œ__toStringæ–¹æ³•åªæœ‰ç»“åˆä½¿ç”¨echo() æˆ– print()æ—¶ æ‰èƒ½ç”Ÿæ•ˆã€‚PHP 5.2.0ä¹‹åï¼Œåˆ™å¯ä»¥åœ¨ä»»ä½•å­—ç¬¦ä¸²ç¯å¢ƒç”Ÿæ•ˆï¼ˆä¾‹å¦‚é€šè¿‡printf()ï¼Œä½¿ç”¨%sä¿®é¥°ç¬¦ï¼‰ï¼Œä½† ä¸èƒ½ç”¨äºéå­—ç¬¦ä¸²ç¯å¢ƒï¼ˆå¦‚ä½¿ç”¨%dä¿®é¥°ç¬¦ï¼‰

ä»PHP 5.2.0ï¼Œå¦‚æœå°†ä¸€ä¸ªæœªå®šä¹‰__toStringæ–¹æ³•çš„å¯¹è±¡ è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä¼šæŠ¥å‡ºä¸€ä¸ªE_RECOVERABLE_ERRORé”™è¯¯ã€‚

8ã€__sleepã€__wakeup

__sleep ä¸²è¡ŒåŒ–çš„æ—¶å€™ç”¨

__wakeup åä¸²è¡ŒåŒ–çš„æ—¶å€™è°ƒç”¨

serialize() æ£€æŸ¥ç±»ä¸­æ˜¯å¦æœ‰é­”æœ¯åç§° __sleep çš„å‡½æ•°ã€‚å¦‚æœè¿™æ ·ï¼Œè¯¥å‡½æ•°å°†åœ¨ä»»ä½•åºåˆ—åŒ–ä¹‹å‰è¿è¡Œã€‚å®ƒå¯ä»¥æ¸…é™¤å¯¹è±¡å¹¶åº”è¯¥è¿”å›ä¸€ä¸ªåŒ…å«æœ‰è¯¥å¯¹è±¡ä¸­åº”è¢«åºåˆ—åŒ–çš„æ‰€æœ‰å˜é‡åçš„æ•°ç»„ã€‚

ä½¿ç”¨ __sleep çš„ç›®çš„æ˜¯å…³é—­å¯¹è±¡å¯èƒ½å…·æœ‰çš„ä»»ä½•æ•°æ®åº“è¿æ¥ï¼Œæäº¤ç­‰å¾…ä¸­çš„æ•°æ®æˆ–è¿›è¡Œç±»ä¼¼çš„æ¸…é™¤ä»»åŠ¡ã€‚æ­¤å¤–ï¼Œå¦‚æœæœ‰éå¸¸å¤§çš„å¯¹è±¡è€Œå¹¶ä¸éœ€è¦å®Œå…¨å‚¨å­˜ä¸‹æ¥æ—¶æ­¤å‡½æ•°ä¹Ÿå¾ˆæœ‰ç”¨ã€‚

ç›¸ååœ°ï¼Œunserialize() æ£€æŸ¥å…·æœ‰é­”æœ¯åç§° __wakeup çš„å‡½æ•°çš„å­˜åœ¨ã€‚å¦‚æœå­˜åœ¨ï¼Œæ­¤å‡½æ•°å¯ä»¥é‡å»ºå¯¹è±¡å¯èƒ½å…·æœ‰çš„ä»»ä½•èµ„æºã€‚ä½¿ç”¨ __wakeup çš„ç›®çš„æ˜¯é‡å»ºåœ¨åºåˆ—åŒ–ä¸­å¯èƒ½ä¸¢å¤±çš„ä»»ä½•æ•°æ®åº“è¿æ¥ä»¥åŠå¤„ç†å…¶å®ƒé‡æ–°åˆå§‹åŒ–çš„ä»»åŠ¡ã€‚

9ã€__set_state

å½“è°ƒç”¨var_export()æ—¶ï¼Œè¿™ä¸ªé™æ€ æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼ˆè‡ªPHP 5.1.0èµ·æœ‰æ•ˆï¼‰ã€‚æœ¬æ–¹æ³•çš„å”¯ä¸€å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«æŒ‰array(â€™propertyâ€™ => value, â€¦)æ ¼å¼æ’åˆ—çš„ç±»å±æ€§ã€‚

10ã€__invoke

å½“å°è¯•ä»¥è°ƒç”¨å‡½æ•°çš„æ–¹å¼è°ƒç”¨ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œ__invoke æ–¹æ³•ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚PHP5.3.0ä»¥ä¸Šç‰ˆæœ¬æœ‰æ•ˆ

11ã€__callStatic

å®ƒçš„å·¥ä½œæ–¹å¼ç±»ä¼¼äº __call() é­”æœ¯æ–¹æ³•ï¼Œ__callStatic() æ˜¯ä¸ºäº†å¤„ç†é™æ€æ–¹æ³•è°ƒç”¨ï¼ŒPHP5.3.0ä»¥ä¸Šç‰ˆæœ¬æœ‰æ•ˆï¼ŒPHP ç¡®å®åŠ å¼ºäº†å¯¹ __callStatic() æ–¹æ³•çš„å®šä¹‰ï¼›å®ƒå¿…é¡»æ˜¯å…¬å…±çš„ï¼Œå¹¶ä¸”å¿…é¡»è¢«å£°æ˜ä¸ºé™æ€çš„ã€‚

åŒæ ·ï¼Œ__call() é­”æœ¯æ–¹æ³•å¿…é¡»è¢«å®šä¹‰ä¸ºå…¬å…±çš„ï¼Œæ‰€æœ‰å…¶ä»–é­”æœ¯æ–¹æ³•éƒ½å¿…é¡»å¦‚æ­¤ã€‚
```
